# topology documentation: https://avd.arista.com/4.7/examples/l2ls-fabric/index.html Layer 2 Leaf Spine
# The goal is to deploy a set of cEOS devices with interlinks predefined for our topology. Ready to config MLAG/BGP
name: l2ls

topology:
  defaults:
    kind: arista_ceos
    image: ceos:4.32.0F

  nodes:
    leaf1:
    leaf2:
    leaf3:
    leaf4:
    spine1:
    spine2:
    borderleaf:
    hosta:
    hostb:
    hostc:
    hostd:

  links:
  #RACK1
    - endpoints: ["leaf1:eth1", "spine1:eth1"]    
    - endpoints: ["leaf1:eth2", "spine2:eth1"]
    - endpoints: ["leaf1:eth3", "hosta:eth1"]
    
    #MLAG PEER LINK
    - endpoints: ["leaf1:eth47", "leaf2:eth47"]
    - endpoints: ["leaf1:eth48", "leaf2:eth48"]

    - endpoints: ["leaf2:eth1", "spine1:eth2"]    
    - endpoints: ["leaf2:eth2", "spine2:eth2"]
    - endpoints: ["leaf2:eth3", "hostb:eth1"]

  #RACK2
    - endpoints: ["leaf3:eth1", "spine1:eth3"]    
    - endpoints: ["leaf3:eth2", "spine2:eth3"]
    - endpoints: ["leaf3:eth3", "hostc:eth1"]
    
    #MLAG PEER LINK
    - endpoints: ["leaf3:eth47", "leaf4:eth47"]
    - endpoints: ["leaf3:eth48", "leaf4:eth48"]

    - endpoints: ["leaf4:eth1", "spine1:eth4"]    
    - endpoints: ["leaf4:eth2", "spine2:eth4"]
    - endpoints: ["leaf4:eth3", "hostd:eth1"]

  #SPINES
    #MLAG PEER LINK
    - endpoints: ["spine1:eth47", "spine2:eth47"]
    - endpoints: ["spine1:eth48", "spine2:eth48"]

  #BORDERLEAF
    - endpoints: ["borderleaf:eth1", "spine1:eth5"]
    - endpoints: ["borderleaf:eth2", "spine2:eth5"]
